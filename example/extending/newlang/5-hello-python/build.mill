package build
import mill._

def checkPythonInstall = Task{
  os.call(("python3", "--version"))
  PathRef(Task.dest)
}

def sources = Task.Source(millSourcePath / "app")
def allSources = Task{
  os.walk(sources().path).filter(_.ext == "py").map(PathRef(_))
}

def mainFileName = Task{ "hello.py" }
def run(args: mill.define.Args) = Task.Command{
  os.call(
    ("python3", sources().path / mainFileName(), args.value),
    stdout = os.Inherit
  )
}
